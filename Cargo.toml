[package]
name = "ceobe-canteen-serve"
version = "0.1.0"
edition = "2021"
default-run = "server"

[[bin]]
name = "server"
path = "./src/main.rs"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html
[workspace]
members = ["libs/*", "./models/*", "./migrate/*"]

[features]
default = []
migrator = []
actix_framwork = []
database = []
async_utils = []

[dependencies]
# db
mongodb = "2"
bson = { version = "2.1.0", features = ["chrono-0_4"] }
# async
futures = "0.3"
async-trait = "0.1.52"
# config
dotenv = "0.15"
figment = { version = "0.10", features = ["yaml", "json", "toml"] }
lazy_static = "1.4"
# actix
actix = "0.13"
actix-web = "4"
actix-http = "3"
actix-service = "2"
actix-cors = "0.6.1"
# web
url = "2.2.2"
http = "0.2"
urlencoding = "2.1.0"
log = "0.4.14"
#encrypt
jwt = "0.16.0"
hmac = "0.12.1"
sha2 = "0.10.2"
bcrypt = "0.10"
# else
rust-crypto = "0.2"
chrono = { version = "0.4", features = ["serde"] }
pin-project = "1"
state = "0.5.2"
rand = "0.8.5"
dashmap = "5"
typed-builder = "0.10"
startup = "0.1.1"

[dependencies.futures-util]
version = "0.3"
features = ["std", "sink"]

[dependencies.tokio]
version = "1.15.0"
features = ["sync", "rt", "rt-multi-thread", "time"]

[dependencies.serde]
version = "1.0.133"
features = ["derive"]

[dependencies.serde_json]
version = "1.0.75"

# data base crate
[dependencies.sea-orm]
version = "0.7"
default-features = false
features = [
    "sqlx-mysql",
    "runtime-tokio-rustls",
    "macros",
    # "debug-print"

]

[dependencies.crypto_str]
path = "./libs/crypto_str"
features = ["serde", "bcrypt"]

[dependencies.range-limit]
path = "./libs/range-limit"

[dependencies.orm-migrate]
package = "migration"
path = "./migrate/sql-migration"
features = ["lite-export"]

[dependencies.ceobe-manager]
path = "./libs/ceobe-manager"

[dependencies.logger]
path = "./libs/logger"

[dependencies.status-err]
path = "./libs/status-err"

[dependencies.resp-result]
version = "0.1.8"
features = ["for-actix", "log"]

[dependencies.request-pretreat]
version = "0.1.1"

[dependencies.time-usage]
path = "./libs/time-usage"

[dependencies.helper_macro]
path = "libs/helper_macro"

[dependencies.sub-model-derive]
version = "0.1"
package = "sub-model"

[dependencies.mongo-migration]
path = "./migrate/mongo-migration"
